{"ast":null,"code":"import _asyncToGenerator from \"C:/ArgentinaPrograma/miProyecto/ProyectoAP/FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { list } from '@angular/fire/storage';\nimport { ref } from '@firebase/storage';\nimport { Proyectos } from 'src/app/model/proyectos';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/proyectos.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/service/image.service\";\nimport * as i4 from \"@angular/fire/storage\";\nimport * as i5 from \"@angular/forms\";\nexport class NewProyectoComponent {\n  constructor(sProyecto, router, imageService, storage) {\n    this.sProyecto = sProyecto;\n    this.router = router;\n    this.imageService = imageService;\n    this.storage = storage;\n    this.nombreP = '';\n    this.descripcionP = '';\n    this.imgP = '';\n    this.enlaceP = '';\n    this.archivos = [];\n  }\n  ngOnInit() {}\n  onCreate() {\n    const proy = new Proyectos(this.nombreP, this.descripcionP, this.imgP, this.enlaceP);\n    // this.imgP = this.imageService.url\n    this.sProyecto.save(proy).subscribe(data => {\n      alert(\"Proyecto añadido\");\n      this.router.navigate(['']);\n    }, err => {\n      alert(\"Falló\");\n      this.router.navigate(['']);\n    });\n  }\n  uploadImagen($event) {\n    document.getElementById('imagen').innerHTML = '<img width=\"50px\" src=\"../../../assets/cargando.gif\">';\n    document.getElementById('imagen2').style.display = 'none';\n    const imagesRef = ref(this.storage, 'proyectos');\n    var n = 0;\n    list(imagesRef).then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (response) {\n        for (let item of response.items) {\n          n++;\n        }\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()).catch(error => console.log(error));\n    const name = \"proyecto_\" + n;\n    this.sProyecto.uploadImagen($event, name, n);\n    setTimeout(this.cambiarImagen, 2500);\n  }\n  cambiarImagen() {\n    document.getElementById('imagen').style.display = 'none';\n    document.getElementById('imagen2').style.display = 'block';\n  }\n}\nNewProyectoComponent.ɵfac = function NewProyectoComponent_Factory(t) {\n  return new (t || NewProyectoComponent)(i0.ɵɵdirectiveInject(i1.ProyectosService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ImageService), i0.ɵɵdirectiveInject(i4.Storage));\n};\nNewProyectoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewProyectoComponent,\n  selectors: [[\"app-new-proyecto\"]],\n  decls: 32,\n  vars: 5,\n  consts: [[1, \"vh-100\", \"gradient-custom\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-12\", \"col-md-8\", \"col-lg-6\", \"col-xl-5\"], [1, \"card\", \"bg-light\", 2, \"border-radius\", \"1rem\"], [1, \"card-body\", \"text-center\"], [1, \"mb-md-5\", \"mt-md-4\"], [1, \"fw-bold\", \"mb-2\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-outline\", \"mb-4\"], [\"for\", \"nombreP\"], [\"type\", \"text\", \"id\", \"nombreP\", \"name\", \"nombreP\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"descripcionP\"], [\"id\", \"descripcionP\", \"name\", \"descripcionP\", \"rows\", \"3\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"enlaceP\"], [\"type\", \"text\", \"id\", \"enlaceP\", \"name\", \"enlaceP\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"imgP\"], [\"type\", \"file\", \"id\", \"imgP\", \"name\", \"imgP\", \"accept\", \".jpg, .jpeg, .png\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"id\", \"imagen\", 1, \"form-outline\", \"mb-4\"], [\"id\", \"imagen2\", 1, \"form-outline\", \"mb-4\"], [\"width\", \"100px\", 3, \"src\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"text-white\", \"btn-lg\", \"btn-block\"]],\n  template: function NewProyectoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"h2\", 7);\n      i0.ɵɵtext(8, \"Nuevo proyecto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"form\", 8, 9);\n      i0.ɵɵlistener(\"ngSubmit\", function NewProyectoComponent_Template_form_ngSubmit_9_listener() {\n        return ctx.onCreate();\n      });\n      i0.ɵɵelementStart(11, \"div\", 10)(12, \"label\", 11);\n      i0.ɵɵtext(13, \"Nombre del Proyecto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function NewProyectoComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.nombreP = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 10)(16, \"label\", 13);\n      i0.ɵɵtext(17, \"Descripcion\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"textarea\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function NewProyectoComponent_Template_textarea_ngModelChange_18_listener($event) {\n        return ctx.descripcionP = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 10)(20, \"label\", 15);\n      i0.ɵɵtext(21, \"Enlace al proyecto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function NewProyectoComponent_Template_input_ngModelChange_22_listener($event) {\n        return ctx.enlaceP = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 10)(24, \"label\", 17);\n      i0.ɵɵtext(25, \"Captura\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function NewProyectoComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.imgP = $event;\n      })(\"change\", function NewProyectoComponent_Template_input_change_26_listener($event) {\n        return ctx.uploadImagen($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(27, \"div\", 19);\n      i0.ɵɵelementStart(28, \"div\", 20);\n      i0.ɵɵelement(29, \"img\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"button\", 22);\n      i0.ɵɵtext(31, \"Agregar proyecto\");\n      i0.ɵɵelementEnd()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.nombreP);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.descripcionP);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.enlaceP);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.imgP);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"src\", ctx.sProyecto.urlP, i0.ɵɵsanitizeUrl);\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n  styles: [\".gradient-custom[_ngcontent-%COMP%] {\\r\\n    \\r\\n    background: #2411cb;\\r\\n    \\r\\n    \\r\\n    \\r\\n    \\r\\n    background: linear-gradient(to right, rgb(17, 64, 203), rgba(37, 117, 252, 1))\\r\\n    }\\r\\n\\r\\n    *[_ngcontent-%COMP%]{\\r\\n        color: #10075c;\\r\\n    }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm95ZWN0by9uZXctcHJveWVjdG8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDhCQUE4QjtJQUM5QixtQkFBbUI7O0lBRW5CLCtCQUErQjs7SUFHL0IscUVBQXFFO0lBQ3JFO0lBQ0E7O0lBRUE7UUFDSSxjQUFjO0lBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiLmdyYWRpZW50LWN1c3RvbSB7XHJcbiAgICAvKiBmYWxsYmFjayBmb3Igb2xkIGJyb3dzZXJzICovXHJcbiAgICBiYWNrZ3JvdW5kOiAjMjQxMWNiO1xyXG4gICAgXHJcbiAgICAvKiBDaHJvbWUgMTAtMjUsIFNhZmFyaSA1LjEtNiAqL1xyXG4gICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYigxNywgMTUwLCAyMDMpLCByZ2IoOCwgODQsIDIxNCkpO1xyXG4gICAgXHJcbiAgICAvKiBXM0MsIElFIDEwKy8gRWRnZSwgRmlyZWZveCAxNissIENocm9tZSAyNissIE9wZXJhIDEyKywgU2FmYXJpIDcrICovXHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYigxNywgNjQsIDIwMyksIHJnYmEoMzcsIDExNywgMjUyLCAxKSlcclxuICAgIH1cclxuXHJcbiAgICAqe1xyXG4gICAgICAgIGNvbG9yOiAjMTAwNzVjO1xyXG4gICAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["list","ref","Proyectos","NewProyectoComponent","constructor","sProyecto","router","imageService","storage","ngOnInit","onCreate","proy","nombreP","descripcionP","imgP","enlaceP","save","subscribe","data","alert","navigate","err","uploadImagen","$event","document","getElementById","innerHTML","style","display","imagesRef","n","then","response","item","items","catch","error","console","log","name","setTimeout","cambiarImagen","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\ArgentinaPrograma\\miProyecto\\ProyectoAP\\FrontEnd\\src\\app\\components\\proyecto\\new-proyecto.component.ts","C:\\ArgentinaPrograma\\miProyecto\\ProyectoAP\\FrontEnd\\src\\app\\components\\proyecto\\new-proyecto.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { list, Storage } from '@angular/fire/storage';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ref } from '@firebase/storage';\nimport { Proyectos } from 'src/app/model/proyectos';\nimport { ImageService } from 'src/app/service/image.service';\nimport { ProyectosService } from 'src/app/service/proyectos.service';\n\n@Component({\n  selector: 'app-new-proyecto',\n  templateUrl: './new-proyecto.component.html',\n  styleUrls: ['./new-proyecto.component.css']\n})\nexport class NewProyectoComponent implements OnInit {\n  nombreP: string = '';\n  descripcionP: string = '';\n  imgP: string = '';\n  enlaceP: string = '';\n  public archivos: any = []\n\n  constructor(public sProyecto: ProyectosService, private router: Router, public imageService: ImageService, private storage: Storage) { }\n\n  ngOnInit(): void {\n  }\n\n  onCreate(): void {\n    const proy = new Proyectos(this.nombreP, this.descripcionP, this.imgP, this.enlaceP);\n    // this.imgP = this.imageService.url\n    this.sProyecto.save(proy).subscribe(\n      data => {\n        alert(\"Proyecto añadido\");\n        this.router.navigate(['']);\n      }, err => {\n        alert(\"Falló\");\n        this.router.navigate(['']);\n      }\n    )\n  }\n\n  uploadImagen($event:any){\n    document.getElementById('imagen').innerHTML = '<img width=\"50px\" src=\"../../../assets/cargando.gif\">';\n    document.getElementById('imagen2').style.display = 'none';\n    const imagesRef = ref(this.storage, 'proyectos')\n    var n = 0\n    list(imagesRef)\n    .then(async response => {\n      for(let item of response.items){\n        n++;\n      }\n    })\n    .catch(error => console.log(error))\n    const name = \"proyecto_\" + n;\n    this.sProyecto.uploadImagen($event, name, n);\n    setTimeout(this.cambiarImagen,2500);\n  }\n  cambiarImagen(){\n    document.getElementById('imagen').style.display = 'none';\n    document.getElementById('imagen2').style.display = 'block';\n  }\n\n}","<section class=\"vh-100 gradient-custom\">\n    <div class=\"container py-5 h-100\">\n      <div class=\"row d-flex justify-content-center align-items-center h-100\">\n        <div class=\"col-12 col-md-8 col-lg-6 col-xl-5\">\n          <div class=\"card bg-light\" style=\"border-radius: 1rem;\">\n            <div class=\"card-body text-center\">\n  \n              <div class=\"mb-md-5 mt-md-4\">\n  \n                <h2 class=\"fw-bold mb-2\">Nuevo proyecto</h2>\n  \n                <form #f=\"ngForm\" (ngSubmit)=\"onCreate()\" novalidate>\n  \n                  <div class=\"form-outline mb-4\">\n                    <label for=\"nombreP\">Nombre del Proyecto</label>\n                    <input type=\"text\" class=\"form-control\" id=\"nombreP\" name=\"nombreP\" [(ngModel)]=\"nombreP\" required>\n                  </div>\n  \n                  <div class=\"form-outline mb-4\">\n                    <label for=\"descripcionP\">Descripcion</label>\n                    <textarea class=\"form-control\" id=\"descripcionP\" name=\"descripcionP\" rows=\"3\" [(ngModel)]=\"descripcionP\" required></textarea>\n                  </div>\n\n                  <div class=\"form-outline mb-4\">\n                    <label for=\"enlaceP\">Enlace al proyecto</label>\n                    <input type=\"text\" class=\"form-control\" id=\"enlaceP\" name=\"enlaceP\" [(ngModel)]=\"enlaceP\" required>\n                  </div>\n\n                  <div class=\"form-outline mb-4\">\n                    <label for=\"imgP\">Captura</label>\n                    <input type=\"file\" class=\"form-control\" id=\"imgP\" name=\"imgP\" [(ngModel)]=\"imgP\" (change)=\"uploadImagen($event)\" accept=\".jpg, .jpeg, .png\" required>\n                  </div>\n\n                  <div class=\"form-outline mb-4\" id=\"imagen\">\n                  </div>\n                  <div class=\"form-outline mb-4\" id=\"imagen2\">\n                    <img [src]=\"sProyecto.urlP\" width=\"100px\">\n                  </div>  \n  \n                  <button class=\"btn btn-primary text-white btn-lg btn-block\" type=\"submit\">Agregar proyecto</button>\n  \n                </form>\n  \n              </div>\n  \n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}